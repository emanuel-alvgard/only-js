(()=>{var h=(t,_,e)=>Math.min(Math.max(t,_),e);function a(t,_,e){return(_-t)*e+t}function g(t,_,e,n){let l=a(t,_,n),u=a(_,e,n);return a(l,u,n)}function P(t,_,e,n,l){let u=g(t,_,e,l),s=g(_,e,n,l);return a(u,s,l)}function T(t,_,e,n,l,u,s,c,m,p){let o={_id:e,_start:l,_end:u,_time:s,_delay:c,_curve:m,_event:p,_direction:0,_distance:0,_speed:0,_curve_func:null,_delay_timer:0,_run_timer:0,_progress:0,_pause:!1,_stop:!0,start(){return o._pause=!1,o._stop=!1,o},stop(){return o._pause=!1,o._stop=!0,o},pause(){return o._pause=!0,o},update(){let i=t.delta;if(o._delay_timer+=i*1e3,!(o._delay_timer>=o._delay)){if(o.run_timer>=o._time){_[n](o._end),o._event!==null&&(_[o._event]=!0);return}o._progress+=o._speed*o._curve_func(o._curve,o.run_timer/o._time)*i}},remove(){}};switch(u<l?(o._direction=-1,o._distance=l-u):(o._direction=1,o._distance=u-l),o._speed=o._distance/o._time*1e3,m.length){case 2:o._curve_func=function(i,d){a(i[0],i[1],h(d,0,1))};break;case 3:o._curve_func=function(i,d){g(i[0],i[1],i[2],h(d,0,1))};break;case 4:o._curve_func=function(i,d){P(i[0],i[1],i[2],i[3],h(d,0,1))};break}return o}function E(t,_,e=null){e!==null&&t[_]<e&&(t[_]=e)}function w(t,_,e=null){e!==null&&t[_]>e&&(t[_]=e)}function f(t,_,e=null,n=null,l=null,u=0){return e===t[_]?t:e!==null?(t[_]=e+u,E(t,_,n),w(t,_,l),t.UPDATE=!0,t):t[_]}function x(t,_){let e={UPDATE:!1,MOUSE_HOVER:!1,MOUSE_DOWN:!1,MOUSE_UP:!1,_id:_,_anims:{},_visible:!0,_l:0,_t:0,_w:0,_h:0,_auto_w:!0,_auto_h:!0,_font:null,_font_size:0,_font_red:0,_font_green:0,_font_blue:0,_padding_l:0,_padding_r:0,_padding_t:0,_padding_b:0,_shadow_red:0,_shadow_green:0,_shadow_blue:0,anim(n,l,u,s,c,m=null,p=null,o=null){return n in e._anims||(e._anims[n]=T(t,e,n,l,u,s,c,m,p,o)),e._anims[n]},w(n=null,l=null,u=null){return n!==null&&(e._auto_w=!1),f(e,"_w",n,l,u)},h(n=null,l=null,u=null){return n!==null&&(e._auto_h=!1),f(e,"_h",n,l,u)},auto_w(){e._auto_w=!0},auto_h(){e._auto_h=!0},l(n=null,l=null,u=null){return f(e,"_l",n,l,u)},t(n=null,l=null,u=null){return f(e,"_t",n,l,u)},r(n=null,l=null,u=null){return f(),r===e._l+e.w()?e:r!==null?(e._l=r-e.w(),e.UPDATE=!0,e):e._l+e.w()},b(n=null,l=null,u=null){return n===e._t+e.h()?e:n!==null?(e._t=n-e.h(),e.UPDATE=!0,e):e._t+e.h()},extend_l(n=null,l=null,u=null){return n!==null?(e.w(n-e.r(),l,u),e.l(n),e.UPDATE=!0,e):e.b()},extend_t(n=null,l=null,u=null){return n!==null?(e.h(n-e.b(),l,u),e.t(n),e.UPDATE=!0,e):e.b()},extend_r(n=null,l=null,u=null){return n!==null?(e.w(n-e.l(),l,u),e.UPDATE=!0,e):e.r()},extend_b(n=null,l=null,u=null){return n!==null?(e.h(n-e.t(),l,u),e.UPDATE=!0,e):e.b()},fixed_t(){},fixed_l(){},fixed_b(){},fixed_r(){},x(n=null,l=null,u=null){return n!==null?(e._l=n-e.w()/2,e.UPDATE=!0,e):e._l+e.w()/2},y(n=null,l=null,u=null){return n!==null?(e._t=n-e.h()/2,e.UPDATE=!0,e):e._t+e.h()/2},image(n,l){},color(){},color_red(){},color_green(){},color_blue(){},text(){},padding_t(n){},padding_l(n){},padding_b(n){},padding_r(n){},padding(n=null,l=null,u=null,s=null){n!==null&&(e._padding_l=n,e.UPDATE=!0),l!==null&&(e._padding_r=l,e.UPDATE=!0),u!==null&&(e._padding_t=u,e.UPDATE=!0),s!==null&&(e._padding_b=s,e.UPDATE=!0)},font(n=null,l=null,u=null,s=null){n!==null&&(e._font_size=n,e.UPDATE=!0),l!==null&&(e._font=l,e.UPDATE=!0),E(e,"_font_size",u),w(e,"_font_size",s)},font_size(){},font_color(){},border(){},border_size_t(){},border_size_l(){},border_size_b(){},border_size_r(){},border_radius_tl(){},border_radius_tr(){},border_radius_bl(){},border_radius_br(){},shadow_color(){},shadow_red(){},shadow_green(){},shadow_blue(){},show(){return e._visible||(e._visible=!0,e.UPDATE=!0),e},hide(){return e._visible&&(e._visible=!1,e.UPDATE=!0),e}};return e}function S(t){t.width<1e3&&(t.format==="desktop"&&(t.FORMAT_SWITCH=1),t.format="mobile"),t.width>1e3&&(t.format==="mobile"&&(t.FORMAT_SWITCH=1),t.format="desktop"),t.width<window.innerHeight&&(t.orientation==="horizontal"&&(t.ORIENTATION_SWITCH=1),t.orientation="vertical"),t.width>window.innerHeight&&(t.orientation==="vertical"&&(t.ORIENTATION_SWITCH=1),t.orientation="horizontal"),t.format==="desktop"&&(t.width=document.documentElement.clientWidth,t.height=window.innerHeight,t.scroll_y=window.scrollY),t.format==="mobile"&&((t.FORMAT_SWITCH||t.ORIENTATION_SWITCH)&&(t.height=window.innerHeight),t.width=document.documentElement.clientWidth,t.scroll_y=window.scrollY);let _=Object.keys(t._virtual);for(let e=0;e<_.length;e++){let n=t._virtual[e],l=t._real[e];n._auto_w&&(n._w=l.clientWidth),n._auto_h&&(n._h=l.clientHeight)}}function H(t){let _=Object.keys(t._elements);for(let e=0;e<_.length;e++){let n=_[e],l=t._elements[n],u=t._target._elements[n];l.update&&(l._width!==0?u.style.width=l._width+"px":u.style.width="auto",l._height!==0?u.style.height=l._height+"px":u.style.height="auto",u.style.transform="translate("+l._left+"px,"+l._top+"px)",u.style.paddingLeft=l._padding_left+"px",u.style.paddingRight=l._padding_right+"px",u.style.paddingTop=l._padding_top+"px",u.style.paddingBottom=l._padding_bottom+"px",l._font_size!==0&&(u.style.fontSize=l._font_size+"px"),l._font_type!==null&&(u.style.fontFamily=l._font_type),l._visible?u.style.display="initial":u.style.display="none"),l.MOUSE_DOWN=!1,l.MOUSE_UP=!1,l.UPDATE=!1}t.SETUP=0,t.FORMAT_SWITCH=0,t.ORIENTATION_SWITCH=0}function y(t){t={SETUP:!0,FORMAT_SWITCH:!1,ORIENTATION_SWITCH:!1,viewport:null,time:performance.now(),delta:0,root:document.createElement("div"),w:document.documentElement.clientWidth,h:window.innerHeight,scroll_y:window.scrollY,format:"",orientation:"",_virtual:{},_real:{},virtual(){x()},real(_,e,n){let l=document.createElement(e);l.style.position="absolute",l.style.margin="0px",l.onmouseover=()=>{n.mouse_hover=!0},l.onmouseleave=()=>{n.mouse_hover=!1},l.onmousedown=()=>{n.mouse_down=!0},l.onmouseup=()=>{n.mouse_up=!0},this._elements[_]=l,t.root.append(l)},element(){if(id in t._elements)return t._elements[id];let _=view_module.element(t,id);return t.target(id,type,_),_},collect(){S(t)},update(){H(t)},show(){},hide(){}},document.body.append(t.root)}function k(t){let _=Object.keys(t._views);for(let e=0;e<_.length;e++){let n=_[e];t._views[n].collect()}}function z(t){let _=Object.keys(t._components);for(let e=0;e<_.length;e++){let n=_[e];t._components[n]()}}function M(t){let _=Object.keys(t._views);for(let e=0;e<_.length;e++){let n=_[e];t._views[n].update()}}function A(t){let _={SETUP:!0,context:t,time:performance.now(),delta:0,_views:{},_components:{},view(e,n){if(e in _._views)return _._views[e];let l;return n==="dom"&&y(l),_._views[e]=l,l},component(e,n){if(e in _._components)return _._components[e];_._components[e]=n},run(){let e=performance.now();_.delta=(e-_.time)/1e3,_.time=e,k(_),z(_),M(_),window.requestAnimationFrame(()=>{run()})}};return _}var O=t=>{start=t.runtime.view("start"),b=start.element("b","button"),b.w(100).h(100).r(start.width-100).t(100).color(200,200,200).border("solid").border_color(200,0,0).text("click me").text_color(100,100,100).font(24,"oswald_bold").padding(10,0,0,0),b.MOUSE_DOWN&&console.log("click")};var N={},U=A(N);U.component("test",O);U.run();})();
